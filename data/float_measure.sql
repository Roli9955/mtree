DROP EXTENSION IF EXISTS mtree_gist CASCADE;
CREATE EXTENSION mtree_gist;

DROP TABLE IF EXISTS FLOAT_1000 CASCADE;
CREATE TABLE FLOAT_1000 (
  id  INTEGER,
  value mtree_float
);
COPY FLOAT_1000(id, value) FROM '/home/postgres/test_files/1000_float.csv' DELIMITER ',' CSV HEADER;

DROP INDEX IF EXISTS FLOAT_1000_GiST_Mtree CASCADE;
CREATE INDEX FLOAT_1000_GiST_Mtree ON FLOAT_1000 USING GiST (value mtree_float_opclass);

SET enable_seqscan = OFF;

SELECT id, value, (value <-> '0') AS dst FROM FLOAT_1000 ORDER BY (value <-> '0');

EXPLAIN ANALYZE SELECT * FROM FLOAT_1000 WHERE value #<# '0.0';
SELECT * FROM FLOAT_1000 WHERE value #<# '0.0';
